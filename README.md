# Анализ пользовательского поведения и повторных покупок

## Описание проекта
В проекте проведён анализ пользовательского поведения сервиса по продаже билетов.
Цель — определить, возвращаются ли пользователи за повторной покупкой и какие параметры первого заказа влияют на дальнейшую активность.

## Цель исследования
- Оценить долю пользователей с повторными заказами;
- Выявить успешные точки входа;
- Сравнить поведение пользователей с одним заказом и с повторными заказами;
- Проанализировать интервалы между покупками;
- Сформировать рекомендации для бизнеса.

## Описание данных
Использованы данные о заказах пользователей:
- user_id — идентификатор пользователя;
- order_id — идентификатор заказа;
- order_dt, order_ts — дата и время заказа;
- device_type_canonical — тип устройства;
- revenue — выручка;
- tickets_count — количество билетов;
- days_since_prev — интервал между заказами;
- event_type_main — тип мероприятия;
- region_name, city_name — регион и город;
- service_name — билетный оператор.

## Подготовка данных
- Выручка приведена к рублям;
- Дубликаты отсутствуют;
- Пользователи агрегированы в таблицу agg_users;
- Рассчитаны ключевые пользовательские метрики;
- Удалены аномальные значения по количеству заказов (выше 90 перцентиля).

## Этапы анализа
1. Анализ первого заказа пользователя;
2. Анализ повторных покупок (2+ и 5+);
3. Анализ выручки и среднего чека;
4. Анализ интервалов между заказами;
5. Корреляционный анализ и сегментация пользователей.

## Основные выводы
- Около 60% пользователей совершают повторные покупки;
- Основной тип первого мероприятия — концерты;
- Большинство первых заказов совершается с мобильных устройств;
- Повторные покупки чаще происходят в ключевых регионах;
- Пользователи с 5 и более заказами имеют более короткие интервалы между покупками;
- Интервал 3–24 дня между заказами наиболее благоприятен для повторной покупки;
- Количество заказов сильно связано с общей выручкой и количеством билетов.

## Рекомендации
- Сфокусироваться на пользователях, купивших первый билет на концерты;
- Усилить маркетинговые активности в регионах с высокой повторяемостью заказов;
- Стимулировать повторную покупку в первые 3–24 дня;
- Работать отдельно с пользователями одного заказа через персональные предложения;
- Развивать удержание пользователей сегмента 2–4 заказа.

## Используемые технологии
Python, Pandas, NumPy, Matplotlib, Seaborn, Scikit-learn, SQLAlchemy, PostgreSQL, python-dotenv.

Все библиотеки зафиксированы в requirements.txt.

## Автор
Жаксылык Жалгас
